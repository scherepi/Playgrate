import{f,a as u}from"../chunks/BIQHu0zT.js";import"../chunks/80jtWzgH.js";import{v as g,w as b,y as M,z as T,a4 as E,an as A,k as d,G as P,B as x,ao as I,ap as N,aq as U,ar as q,f as R,p as V,t as B,a as C,c as n,r as l,g as i,b as k,s as p,V as y,o as $,as as H}from"../chunks/yokdoQzp.js";import{o as O}from"../chunks/Bt1YySA6.js";import{s as F,d as G}from"../chunks/Cv__B3gN.js";let w=!1;function S(){w||(w=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var a;if(!e.defaultPrevented)for(const t of e.target.elements)(a=t.__on_r)==null||a.call(t)})},{capture:!0}))}function z(e){var a=M,t=T;g(null),b(null);try{return e()}finally{g(a),b(t)}}function D(e,a,t,r=t){e.addEventListener(a,()=>z(t));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),S()}function K(e,a){d&&P(x(e)),E(()=>{var t=a();for(var r in t){var s=t[r];s?e.style.setProperty(r,s):e.style.removeProperty(r)}}),A(()=>{e.remove()})}const Y=Symbol("is custom element"),j=Symbol("is html");function J(e){if(d){var a=!1,t=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var r=e.value;L(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var s=e.checked;L(e,"checked",null),e.checked=s}}};e.__on_r=t,I(t),S()}}function L(e,a,t,r){var s=Q(e);d&&(s[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||s[a]!==(s[a]=t)&&(a==="loading"&&(e[N]=t),e.removeAttribute(a))}function Q(e){return e.__attributes??(e.__attributes={[Y]:e.nodeName.includes("-"),[j]:e.namespaceURI===U})}function W(e,a,t=a){var r=q();D(e,"input",s=>{var o=s?e.defaultValue:e.value;if(o=h(e)?m(o):o,t(o),r&&o!==(o=a())){var c=e.selectionStart,v=e.selectionEnd;e.value=o??"",v!==null&&(e.selectionStart=c,e.selectionEnd=Math.min(v,e.value.length))}}),(d&&e.defaultValue!==e.value||R(a)==null&&e.value)&&t(h(e)?m(e.value):e.value),E(()=>{var s=a();h(e)&&s===m(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function h(e){var a=e.type;return a==="number"||a==="range"}function m(e){return e===""?null:+e}var X=f(`<div id="box" class="svelte-1eu4sht"><h1 id="title" class="svelte-1eu4sht">Playgrate</h1> <h2 id="subtitle" class="svelte-1eu4sht">Transferring playlists shouldn't be so hard.</h2></div>`);function Z(e){var a=X();u(e,a)}var ee=f('<div class="svelte-83cwgn"><a href="/spotify-login" class="svelte-83cwgn"><h2 id="username" class="svelte-83cwgn"> </h2></a></div>');function ae(e,a){V(a,!0);let t=k("Login!");async function r(){let _=await fetch("/spotify-id");if(!_.ok)throw new Error(`Response status: ${_.status}`);p(t,await _.text(),!0),i(t)=="U0VTU0lPTk5PVFNFVA=="&&p(t,"Login!")}O(async()=>{r()});var s=ee(),o=n(s),c=n(o),v=n(c,!0);l(c),l(o),l(s),B(()=>F(v,i(t))),u(e,s),C()}function te(e,a){const t=document.getElementById("username");if(t&&t.innerHTML!="Login!"){let r=window.location.href;i(a)!==""&&(r=r+"/start-scrape/apple-music/?playlistURL="+i(a),window.location.href=r)}}var se=f('<div class="svelte-lam5na"><input id="url-input" type="url" placeholder="https://music.apple.com/your-playlist" class="svelte-lam5na"/> <button class="svelte-lam5na">Migrate!</button></div>');function re(e){let a=k("");var t=se(),r=n(t);J(r);var s=y(r,2);s.__click=[te,a],l(t),W(r,()=>i(a),o=>p(a,o)),u(e,t)}G(["click"]);var oe=f('<svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <div id="main-container" class="svelte-1eqb18p"><!> <br/> <br/> <!> <div id="request" class="svelte-1eqb18p"><h4 class="svelte-1eqb18p">Please do not close the tab once started!</h4></div></div>',1);function ue(e){var a=oe(),t=$(a);K(t,()=>({"--color":"#26eb6b"})),ae(t.lastChild,{}),l(t);var r=y(t,2),s=n(r);Z(s);var o=y(s,6);re(o),H(2),l(r),u(e,a)}export{ue as component};
